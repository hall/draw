# Draw, for the VSCode family

![Open VSX Version](https://img.shields.io/open-vsx/v/hall/draw)
![Visual Studio Marketplace Version](https://img.shields.io/visual-studio-marketplace/v/hall.draw)

Draw an SVG image with a mouse or pen.

![screenshot](docs/images/screenshot.png)

> **NOTE**: This is an alpha project; please open an issue for any bugs, questions, or ideas!

## Usage

Open a markdown file and run `Edit/Create current line as SVG` by either

 - right clicking on the line or
 - opening the command palette (`F1` or `Ctrl-Shft-P`) and type `svg`

## Custom Buttons

Add custom buttons to the drawing canvas.

 1. change the variables (`icon`, `title`, `onclick`, e.g.) in this snippet:

    ```js
    console.log(JSON.stringify((()=>{
        // find a icon from https://fontawesome.com/v5.8.2/icons
        const icon = 'beer' 
        const title = 'a new button'
        const addGap = true
        const onclick = ()=>{
            drawAPI.unstable.setTextContent('a custom button works')
        }
    
        document.querySelector('div.svg-operate').insertAdjacentHTML('beforeEnd',(addGap?"<span class='svgiconspliter'></span>":"")+"<div class='svg-btn fa fa-"+icon+"' title='"+title+"'><span></span></div>");
        document.querySelector('div.svg-operate > :last-child').onclick=onclick
    
    }).toString().slice(7,-2)))
    ```

 2. execute the snippet (perhaps in your browser console)

 3. set the output string in `settings.json`

    ```json
        "markdown-draw.customized-buttons": [
            {
                "type": "script",
                "version": "0.1.2",
                "function": "    // find a icon from https://fontawesome.com/v5.8.2/icons\n    const icon = 'beer' \n    const title = 'a new button'\n    const addGap = true\n    const onclick = ()=>{\n        drawAPI.unstable.setTextContent('a custom button works')\n    }\n\n    document.querySelector('div.svg-operate').insertAdjacentHTML('beforeEnd',(addGap?\"<span class='svgiconspliter'></span>\":\"\")+\"<div class='svg-btn fa fa-\"+icon+\"' title='\"+title+\"'><span></span></div>\");\n    document.querySelector('div.svg-operate > :last-child').onclick=onclick\n"
            }
        ]
    ```

## Handwritten Text Recognition

The following services are available to convert hand-written formulas to LaTeX equations.

### myscript

> free for 2000 calls/month

 - [create an account](https://developer.myscript.com/getting-started/web) and generate a token
 - copy the [myscript.json](./docs/snippets/myscript.json) snippet (which was generated by [myscript.js](./docs/snippets/myscript.js))
 - put it into `setting.json` (see [Customize Buttons](#Customize-Buttons))
 - replace `PasteYourTokenHere` with your token

### mathpix

> free for 1000/month but you have to provide a card that will be charged a one-time non-refundable setup fee of $1

This script also supports drag and paste image.

 - copy the [mathpix.json](./docs/snippets/mathpix.json) snippet (which was generated by [mathpix.js](./docs/snippets/mathpix.js))
 - put it into `setting.json` (see [Customize Buttons](#Customize-Buttons))
 - replace `PasteYourTokenHere` with your token


## License

This project was forked from [zhaouv/vscode-markdown-draw](https://github.com/zhaouv/vscode-markdown-draw) and licensed under the [Apache-2.0 License](./LICENSE).
